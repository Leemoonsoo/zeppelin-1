<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>{{ page.title }}</title>
    {% if page.description %}<meta name="description" content="{{ page.description }}">{% endif %}
    <meta name="author" content="{{ site.author.name }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="{{ ASSET_PATH }}/resources/jquery/jquery.min.js"></script>
    <link href="{{ ASSET_PATH }}/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ ASSET_PATH }}/css/style.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="{{ ASSET_PATH }}/resources/respond/Respond.min.js"></script>
    <![endif]-->

    <link href="{{ BASE_PATH }}{{ site.JB.atom_path }}" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="{{ BASE_PATH }}{{ site.JB.rss_path }}" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{{ HOME_PATH }}">{{ site.title }}</a>
        </div>

        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav">
            {% assign pages_list = site.pages %}
            {% assign group = 'navigation' %}
            {% include JB/pages_list %}
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
    <div class="jumpy"></div>
      {%comment%}
        Implements category navigation on each page using
        https://github.com/recurser/jekyll-plugins#generate_categoriesrb
      {%endcomment%}
      <div class="row">
        <div class="col-sm-12">
          {{ content }}
        </div>
      </div>

      <hr>
      <footer>
        <p>
          &copy; {{ site.time | date: '%Y' }} {{ site.author.name }}
          <!-- span class="pull-right text-muted">
            powered by ...
          </span -->
        </p>
      </footer>
    </div>

    {% include JB/analytics %}
    <script src="{{ ASSET_PATH }}/resources/bootstrap/js/bootstrap.min.js"></script>
    <script src="{{ ASSET_PATH }}/resources/plax/plax.js"></script>

    <script>

    /*
     * Hides everyting from h1>a#language to [next h2 | EOF]
     * And manages the state of _this, so that only one button is active
     * Depends on JQuery
     */
    function hide(_this, language) {
      $(_this).siblings().removeClass('active');
      $(_this).addClass('active');

      //show opposite to 'language' content
      $('div.content > :hidden').show();

      //hide 'language' content
      var langHeader = $('h1>a#'+language).parent();
      langHeader.hide();
      langHeader.siblings('h1').hide();
      langHeader.nextUntil('h1').hide();
    }

    $( document ).ready(function() {
      //set default lang from user-agent
      if ( /KR/.test(navigator.language) ) {
          hide(".btn.btn-default:last", 'eng');
      } else {
          hide(".btn.btn-default:first", 'kor');
      }

      $('#wheel1').plaxify({"xRange":60,"yRange":30, "invert":true});
      $('#wheel2').plaxify({"xRange":40,"yRange":45});
      $('#wheel3').plaxify({"xRange":20,"yRange":20});
      $('#wheel4').plaxify({"xRange":10,"yRange":30, "invert":true});
      $.plax.enable();
    });
    </script>

  </body>
</html>
